{
  "Commands": [
    {
      "Name": "Install-SqlServerPowerShellModule",
      "Arguments": {}
    },
    {
      "Name": "Disable-Firewall",
      "Arguments": {}
    },
    {
      "Name": "New-SqlServerSystemAccount",
      "Arguments": {
        "UserName": "$domainAdminAccountName",
        "PrimaryNode": "$primaryNode",
        "DomainName": "$domainName",
        "SQLServiceUserPassword": "$sqlServiceUserPassword",
        "UserPassword": "$domainAdminAccountPassword",
        "SQLServiceUserName": "$sqlServiceUserName"
      }
    },
    {
      "Name": "New-SharedFolderForAOAG",
      "Arguments": {
        "PrimaryNode": "$primaryNode"
      }
    }
  ],
  "Scripts": [
    "SW1wb3J0LU1vZHVsZSBDb3JlRnVuY3Rpb25zIC1Gb3JjZQ==",
    "CmZ1bmN0aW9uIEluc3RhbGwtU3FsU2VydmVyRm9yQU9BRyB7CiAgICBwYXJhbSAoCiAgICAgICAgIyBQYXRoIHRvIGZvbGRlciB3aGVyZSBtc2kgZmlsZXMgZm9yIGFkZGl0aW9uYWwgU1FMIGZlYXR1cmVzIGFyZSBsb2NhdGVkCiAgICAgICAgW1N0cmluZ10gJFNldHVwUm9vdCA9ICcnLAoKICAgICAgICAjIFBhdGggdG8gZm9sZGVyIHdoZXJlIG1zaSBmaWxlcyBmb3IgYWRkaXRpb25hbCBTUUxQUyBtb2R1bGUgYXJlIGxvY2F0ZWQKICAgICAgICBbU3RyaW5nXSAkU3FscHNTZXR1cFJvb3QgPSAnJywKCiAgICAgICAgW1N0cmluZ10gJE11cmFub0ZpbGVTaGFyZSA9ICcnLAoKICAgICAgICAjIChSRVFVSVJFRCkgRG9tYWluIG5hbWUKICAgICAgICBbU3RyaW5nXSAkU1FMU2VydmljZVVzZXJEb21haW4gPSAnZmMtYWNtZS5sb2NhbCcsCgogICAgICAgICMgKFJFUVVJUkVEKSBVc2VyIG5hbWUgZm9yIHRoZSBhY2NvdW50IHdoaWNoIHdpbGwgYmUgdXNlZCBieSBTUUwgc2VydmljZQogICAgICAgIFtTdHJpbmddICRTUUxTZXJ2aWNlVXNlck5hbWUgPSAnQWRtaW5pc3RyYXRvcicsCgogICAgICAgICMgKFJFUVVJUkVEKSBQYXNzd29yZCBmb3IgdGhhdCB1c2VyCiAgICAgICAgW1N0cmluZ10gJFNRTFNlcnZpY2VVc2VyUGFzc3dvcmQgPSAnUEBzc3cwcmQnLAoKICAgICAgICBbU3dpdGNoXSAkVXBkYXRlRW5hYmxlZAogICAgKQoKCiAgICBpZiAoJE11cmFub0ZpbGVTaGFyZSAtZXEgJycpIHsKICAgICAgICAkTXVyYW5vRmlsZVNoYXJlID0gW0Vudmlyb25tZW50XTo6R2V0RW52aXJvbm1lbnRWYXJpYWJsZSgnTXVyYW5vRmlsZVNoYXJlJykKICAgICAgICBpZiAoJE11cmFub0ZpbGVTaGFyZSAtZXEgJycpIHsKICAgICAgICAgICAgdGhyb3coIlVuYWJsZSB0byBmaW5kIE11cmFub0ZpbGVTaGFyZSBwYXRoLiIpCiAgICAgICAgfQogICAgfQoKICAgIGlmICgkU2V0dXBSb290IC1lcSAnJykgewogICAgICAgICRTZXR1cFJvb3QgPSBbSU8uUGF0aF06OkNvbWJpbmUoJE11cmFub0ZpbGVTaGFyZSwgJ1ByZXJlcXVpc2l0ZXNcU1FMIFNlcnZlclwyMDEyJykKICAgIH0KCiAgICBpZiAoJFNxbHBzU2V0dXBSb290IC1lcSAnJykgewogICAgICAgICRTcWxwc1NldHVwUm9vdCA9IFtJTy5QYXRoXTo6Q29tYmluZSgkTXVyYW5vRmlsZVNoYXJlLCAnUHJlcmVxdWlzaXRlc1xTUUwgU2VydmVyXFRvb2xzJykKICAgIH0KCiAgICAkRXh0cmFPcHRpb25zID0gQHt9CgogICAgaWYgKCRVcGRhdGVFbmFibGVkKSB7CiAgICAgICAgJEV4dHJhT3B0aW9ucyArPSBAeydVcGRhdGVFbmFibGVkJyA9ICR0cnVlfQogICAgfQogICAgZWxzZSB7CiAgICAgICAgJEV4dHJhT3B0aW9ucyArPSBAeydVcGRhdGVFbmFibGVkJyA9ICRmYWxzZX0KICAgIH0KCiAgICBOZXctU1FMU2VydmVyRm9yQU9BRyBgCiAgICAgICAgLVNldHVwUm9vdCAkU2V0dXBSb290IGAKICAgICAgICAtU1FMU3ZjVXNyRG9tYWluICRTUUxTZXJ2aWNlVXNlckRvbWFpbiBgCiAgICAgICAgLVNRTFN2Y1Vzck5hbWUgJFNRTFNlcnZpY2VVc2VyTmFtZSBgCiAgICAgICAgLVNRTFN2Y1VzclBhc3N3b3JkICRTUUxTZXJ2aWNlVXNlclBhc3N3b3JkIGAKICAgICAgICAtRXh0cmFPcHRpb25zICRFeHRyYU9wdGlvbnMKCiAgICBJbnN0YWxsLVNxbFNlcnZlclBvd2VyU2hlbGxNb2R1bGUgLVNldHVwUm9vdCAkU3FscHNTZXR1cFJvb3QKfQoKCgpmdW5jdGlvbiBJbml0aWFsaXplLUFsd2F5c09uQXZhaWxhYmlsaXR5R3JvdXAgewogICAgcGFyYW0gKAogICAgICAgIFtTdHJpbmddICREb21haW5OYW1lLAogICAgICAgIFtTdHJpbmddICREb21haW5BZG1pbkFjY291bnROYW1lLAogICAgICAgIFtTdHJpbmddICREb21haW5BZG1pbkFjY291bnRQYXNzd29yZCwKICAgICAgICBbU3RyaW5nXSAkU3FsU2VydmljZUFjY291bnROYW1lLAogICAgICAgIFtTdHJpbmddICRQcmltYXJ5Tm9kZSwKICAgICAgICBbU3RyaW5nXSAkU2hhcmVOYW1lID0gJ1NoYXJlZFdvcmtEaXInCiAgICApCgogICAgJFNoYXJlTmV0d29ya1BhdGggPSAnXFwnICsgJFByaW1hcnlOb2RlICsgJ1wnICsgJFNoYXJlTmFtZQoKICAgICREb21haW5BZG1pbkFjY291bnRDcmVkcyA9IE5ldy1DcmVkZW50aWFsIGAKICAgICAgICAtVXNlck5hbWUgIiREb21haW5OYW1lXCREb21haW5BZG1pbkFjY291bnROYW1lIiBgCiAgICAgICAgLVBhc3N3b3JkICIkRG9tYWluQWRtaW5BY2NvdW50UGFzc3dvcmQiCgogICAgJEZ1bmN0aW9uc0ZpbGUgPSBFeHBvcnQtRnVuY3Rpb24gJ0dldC1OZXh0RnJlZVBvcnQnLCAnSW5pdGlhbGl6ZS1BbHdheXNPbicKCiAgICBTdGFydC1Qb3dlclNoZWxsUHJvY2VzcyBAIgp0cmFwIHsKICAgIGAkXwogICAgZXhpdCAxCn0KCkltcG9ydC1Nb2R1bGUgQ29yZUZ1bmN0aW9ucwoKV3JpdGUtTG9nICJJbXBvcnRpbmcgZnVuY3Rpb25zIGZpbGUgJyRGdW5jdGlvbnNGaWxlJyAuLi4iCi4gIiRGdW5jdGlvbnNGaWxlIgoKV3JpdGUtTG9nICJTdGFydGluZyAnSW5pdGlhbGl6ZS1BbHdheXNPbicgLi4uIgpgJFhtbEZpbGUgPSBbSU8uUGF0aF06OkNvbWJpbmUoIiRTaGFyZU5ldHdvcmtQYXRoIiwgImAkKGAkRW52OkNvbXB1dGVyTmFtZSkueG1sIikKV3JpdGUtTG9nICJPdXRwdXQgWE1MIGZpbGUgaXMgJ2AkWG1sRmlsZSciCkluaXRpYWxpemUtQWx3YXlzT24gfCBFeHBvcnQtQ2xpWG1sIC1QYXRoIGAkWG1sRmlsZQoiQCAtQ3JlZGVudGlhbCAkRG9tYWluQWRtaW5BY2NvdW50Q3JlZHMgLU5vQmFzZTY0Cgp9CgoKZnVuY3Rpb24gTmV3LVNoYXJlZEZvbGRlckZvckFPQUcgewogICAgcGFyYW0gKAogICAgICAgICMgKE9QVElPTkFMKQogICAgICAgIFtTdHJpbmddICRTaGFyZVBhdGggPSBbSU8uUGF0aF06OkNvbWJpbmUoJEVudjpTeXN0ZW1Ecml2ZSArICdcJywgJ1NoYXJlZFdvcmtEaXInKSwKCiAgICAgICAgIyAoT1BUSU9OQUwpCiAgICAgICAgW1N0cmluZ10gJFNoYXJlTmFtZSA9ICdTaGFyZWRXb3JrRGlyJywKCiAgICAgICAgW1N0cmluZ10gJFByaW1hcnlOb2RlID0gJyAnCiAgICApCgogICAgaWYgKCRQcmltYXJ5Tm9kZS5Ub0xvd2VyKCkgLW5lICgkRW52OkNvbXB1dGVyTmFtZSkuVG9Mb3dlcigpKSB7CiAgICAgICAgV3JpdGUtTG9nICJUaGlzIHNjcmlwdCBydW5zIG9uIHByaW1hcnkgbm9kZSBvbmx5LiIKICAgICAgICBXcml0ZS1Mb2cgIkV4aXRpbmcgc2NyaXB0LiIKICAgICAgICByZXR1cm4KICAgIH0KCiAgICBpZiAoJFNoYXJlTmFtZSAtZXEgJycpIHsKICAgICAgICAkU2hhcmVOYW1lID0gW0lPLlBhdGhdOjpHZXRGaWxlTmFtZVdpdGhvdXRFeHRlbnNpb24oJFNoYXJlUGF0aCkKICAgIH0KCiAgICBXcml0ZS1Mb2dEZWJ1ZyAiU2hhcmVQYXRoID0gJyRTaGFyZVBhdGgnIgogICAgV3JpdGUtTG9nRGVidWcgIlNoYXJlTmFtZSA9ICckU2hhcmVOYW1lJyIKCiAgICB0cnkgewogICAgICAgIFdyaXRlLUxvZ0RlYnVnICJUcnlpbmcgdG8gcmVtb3ZlIHNoYXJlICckU2hhcmVOYW1lJyIKICAgICAgICAkbnVsbCA9IEdldC1TbWJTaGFyZSAtTmFtZSAkU2hhcmVOYW1lIC1FcnJvckFjdGlvbiAnU3RvcCcKICAgICAgICBSZW1vdmUtU21iU2hhcmUgLU5hbWUgJFNoYXJlTmFtZSAtRm9yY2UKICAgICAgICB3cml0ZS1Mb2cgIlNoYXJlICckU2hhcmVOYW1lJyByZW1vdmVkLiIKICAgIH0KICAgIGNhdGNoIHsKICAgICAgICBXcml0ZS1Mb2dXYXJuaW5nICJTaGFyZSAnJFNoYXJlTmFtZScgbm90IGV4aXN0cyBvciBjYW5ub3QgYmUgZGVsZXRlZC4iCiAgICB9CgogICAgdHJ5IHsKICAgICAgICBXcml0ZS1Mb2dEZWJ1ZyAiVHJ5aW5nIHRvIHJlbW92ZSBmb2xkZXIgJyRTaGFyZVBhdGgiCiAgICAgICAgJG51bGwgPSBHZXQtSXRlbSAtUGF0aCAkU2hhcmVQYXRoIC1FcnJvckFjdGlvbiAnU3RvcCcKICAgICAgICBSZW1vdmUtSXRlbSAtUGF0aCAkU2hhcmVQYXRoIC1SZWN1cnNlIC1Gb3JjZQogICAgICAgIFdyaXRlLUxvZyAiRm9sZGVyICckU2hhcmVQYXRoJyByZW1vdmVkLiIKICAgIH0KICAgIGNhdGNoIHsKICAgICAgICBXcml0ZS1Mb2dXYXJuaW5nICJGb2xkZXIgJyRTaGFyZVBhdGgnIG5vdCBleGlzdHMgb3IgY2Fubm90IGJlIGRlbGV0ZWQuIgogICAgfQoKICAgICRudWxsID0gTmV3LUl0ZW0gLVBhdGggJFNoYXJlUGF0aCAtSXRlbVR5cGUgQ29udGFpbmVyIC1Gb3JjZQogICAgICAgICAgICAKICAgICRudWxsID0gTmV3LVNtYlNoYXJlIC1QYXRoICRTaGFyZVBhdGggYAogICAgICAgIC1OYW1lICRTaGFyZU5hbWUgYAogICAgICAgIC1GdWxsQWNjZXNzICJFdmVyeW9uZSIgYAogICAgICAgIC1EZXNjcmlwdGlvbiAiU2hhcmVkIGZvbGRlciBmb3IgQWx3YXlzT24gQXZhaWxhYmlsaXR5IEdyb3VwIHNldHVwLiIKCiAgICByZXR1cm4gJ1xcJyArICRFbnY6Q29tcHV0ZXJOYW1lICsgJ1wnICsgJFNoYXJlTmFtZQp9CgoKCmZ1bmN0aW9uIE5ldy1EYXRhYmFzZUZvckFPQUcgewogICAgcGFyYW0gKAogICAgICAgIFtTdHJpbmddICREYXRhYmFzZU5hbWUsCiAgICAgICAgW1N0cmluZ10gJERvbWFpbk5hbWUsCiAgICAgICAgW1N0cmluZ10gJFVzZXJOYW1lLAogICAgICAgIFtTdHJpbmddICRVc2VyUGFzc3dvcmQKICAgICkKCiAgICAkQ3JlZHMgPSBOZXctQ3JlZGVudGlhbCAtVXNlck5hbWUgIiREb21haW5OYW1lXCRVc2VyTmFtZSIgLVBhc3N3b3JkICIkVXNlclBhc3N3b3JkIgoKICAgICRGdW5jdGlvbnNGaWxlID0gRXhwb3J0LUZ1bmN0aW9uICdJbnZva2UtU1FMVGV4dCcsICdDb252ZXJ0VG8tU1FMTmFtZScsICdDb252ZXJ0VG8tU1FMU3RyaW5nJywgJ05ldy1TUUxEYXRhYmFzZScKCiAgICBTdGFydC1Qb3dlclNoZWxsUHJvY2VzcyBAIgp0cmFwIHsKICAgIGAkXwogICAgZXhpdCAxCn0KCkltcG9ydC1Nb2R1bGUgQ29yZUZ1bmN0aW9ucwoKV3JpdGUtTG9nICJJbXBvcnRpbmcgZnVuY3Rpb25zIGZyb20gZmlsZSAnJEZ1bmN0aW9uc0ZpbGUnIC4uLiIKLiAiJEZ1bmN0aW9uc0ZpbGUiCgpXcml0ZS1Mb2cgIlN0YXJ0aW5nICdOZXctU1FMRGF0YWJhc2UnIC4uLiIKTmV3LVNRTERhdGFiYXNlICREYXRhYmFzZU5hbWUKIkAgLUNyZWRlbnRpYWwgJENyZWRzIC1Ob0Jhc2U2NAp9CgoKCmZ1bmN0aW9uIEluaXRpYWxpemUtQU9BR1ByaW1hcnlSZXBsaWNhIHsKICAgIHBhcmFtICgKICAgICAgICAjIChPUFRJT05BTCkgTmFtZSBvZiB0aGUgbmV3IEF2YWlsYWJpbGl0eSBHcm91cC4gSWYgbm90IHNwZWNpZmllZCB0aGVuIGRlZmF1bHQgbmFtZSB3aWxsIGJlIHVzZWQuCiAgICAgICAgW1N0cmluZ10gJEdyb3VwTmFtZSA9ICdNdXJhbm9BRycsCgogICAgICAgICMgKFJFUVVJUkVEKSBOb2RlcyB0aGF0IHdpbGwgYmUgY29uZmlndXJlZCBhcyByZXBsaWNhIHBhcnRuZXJzLgogICAgICAgICNbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldCiAgICAgICAgW1N0cmluZ1tdXSAkTm9kZUxpc3QsCgogICAgICAgICMgKFJFUVVJUkVEKSBOb2RlIG5hbWUgdGhhdCB3aWxsIGJlIHByaW1hcnkgZm9yIHNlbGVjdGVkIEF2YWlsYWJpbGl0eSBHcm91cAogICAgICAgICNbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldCiAgICAgICAgW1N0cmluZ10gJFByaW1hcnlOb2RlLAoKICAgICAgICAjIChSRVFVSVJFRCkgRGF0YWJhc2UgbGlzdCB0aGF0IHdpbGwgYmUgYWRkZWQgdG8gdGhlIEF2YWlsYWJpbGl0eSBHcm91cAogICAgICAgICNbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldCiAgICAgICAgW1N0cmluZ1tdXSAkRGF0YWJhc2VMaXN0LAoKICAgICAgICAjIChSRVFVSVJFRCkgTGlzdGVuZXIgbmFtZSB0aGF0IHdpbGwgYmUgdXNlZCBieSBjbGllbnRzIHRvIGNvbm5lY3QgdG8gZGF0YWJhc2VzIGluIHRoYXQgQUcKICAgICAgICAjW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXQogICAgICAgIFtTdHJpbmddICRMaXN0ZW5lck5hbWUgPSAnTXVyYW5vQUdfTGlzdGVuZXInLAoKICAgICAgICAjIChSRVFVSVJFRCkgSVAgYWRkcmVzcyBvZiB0aGUgbGlzdGVuZXIKICAgICAgICAjW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXQogICAgICAgIFtTdHJpbmddICRMaXN0ZW5lcklQLAoKICAgICAgICBbU3RyaW5nXSAkTGlzdGVuZXJJUE1hc2sgPSAnMjU1LjI1NS4yNTUuMCcsCgogICAgICAgIFtTdHJpbmddICRMaXN0ZW5lclBvcnQgPSAnNTAyMycsCgogICAgICAgICMgU3luYyBNb2RlIE5vZGUgTGlzdAogICAgICAgIFtTdHJpbmdbXV0gJFN5bmNNb2RlTm9kZUxpc3QsCgogICAgICAgIFtTdHJpbmddICRTaGFyZWRXb3JrRGlyID0gJ1NoYXJlZFdvcmtEaXInLAoKICAgICAgICBbU3RyaW5nXSAkQ2xpWG1sRmlsZSA9ICcnLAoKICAgICAgICBbU3RyaW5nXSAkRG9tYWluTmFtZSwKICAgICAgICBbU3RyaW5nXSAkVXNlck5hbWUsCiAgICAgICAgW1N0cmluZ10gJFVzZXJQYXNzd29yZAogICAgKQoKICAgIGlmICgkUHJpbWFyeU5vZGUuVG9Mb3dlcigpIC1uZSAoJEVudjpDb21wdXRlck5hbWUpLlRvTG93ZXIoKSkgewogICAgICAgIFdyaXRlLUxvZyAiVGhpcyBmdW5jdGlvbiB3b3JrcyBvbiBQcmltYXJ5Tm9kZSBvbmx5LiIKICAgICAgICBXcml0ZS1Mb2cgIkV4aXRpbmcuIgogICAgICAgIHJldHVybgogICAgfQoKICAgIGlmICgkQ2xpWG1sRmlsZSAtZXEgJycpIHsKICAgICAgICAkUmVwbGljYURlZmluaXRpb25MaXN0ID0gQCgpCiAgICAgICAgZm9yZWFjaCAoJE5vZGUgaW4gJE5vZGVMaXN0KSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAkTm9kZUVuZHBvaW50UG9ydCA9IEltcG9ydC1DbGlYbWwgLVBhdGggIlxcJFByaW1hcnlOb2RlXFNoYXJlZFdvcmtEaXJcJE5vZGUueG1sIgogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICROb2RlRW5kcG9pbnRQb3J0ID0gNTAyMgogICAgICAgICAgICB9CgogICAgICAgICAgICAkUmVwbGljYURlZmluaXRpb24gPSBAewogICAgICAgICAgICAgICAgIlNFUlZFUl9JTlNUQU5DRSIgPSAiJE5vZGUiOwogICAgICAgICAgICAgICAgIkVORFBPSU5UX1VSTCIgPSAiVENQOi8vJHtOb2RlfToke05vZGVFbmRwb2ludFBvcnR9IjsKICAgICAgICAgICAgICAgICJBVkFJTEFCSUxJVFlfTU9ERSIgPSAiQVNZTkNIUk9OT1VTX0NPTU1JVCI7CiAgICAgICAgICAgICAgICAiRkFJTE9WRVJfTU9ERSI9Ik1BTlVBTCI7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICgkU3luY01vZGVOb2RlTGlzdCAtY29udGFpbnMgJE5vZGUpIHsKICAgICAgICAgICAgICAgICRSZXBsaWNhRGVmaW5pdGlvblsnQVZBSUxBQklMSVRZX01PREUnXSA9ICJTWU5DSFJPTk9VU19DT01NSVQiCiAgICAgICAgICAgICAgICAkUmVwbGljYURlZmluaXRpb25bJ0ZBSUxPVkVSX01PREUnXSA9ICJBVVRPTUFUSUMiCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRSZXBsaWNhRGVmaW5pdGlvbkxpc3QgKz0gQCgkUmVwbGljYURlZmluaXRpb24pCiAgICAgICAgfQoKICAgICAgICAkUHJlZmVyZW5jZXMgPSBAe30KCiAgICAgICAgJExpc3RlbmVyRGVmaW5pdGlvbiA9IEB7CiAgICAgICAgICAgICJOQU1FIj0kTGlzdGVuZXJOYW1lOwogICAgICAgICAgICAiUE9SVCIgPSAiJExpc3RlbmVyUG9ydCI7CiAgICAgICAgICAgICJTVEFUSUMiID0gIiRMaXN0ZW5lcklQLyRMaXN0ZW5lcklQTWFzayIKICAgICAgICB9CgogICAgICAgICRQYXJhbWV0ZXJzID0gQHsKICAgICAgICAgICAgJ1dvcmtEaXInID0gIlxcJFByaW1hcnlOb2RlXCRTaGFyZWRXb3JrRGlyIjsKICAgICAgICAgICAgJ05hbWUnID0gJEdyb3VwTmFtZTsKICAgICAgICAgICAgJ0RhdGFiYXNlTmFtZXMnID0gJERhdGFiYXNlTGlzdDsKICAgICAgICAgICAgJ1JlcGxpY2FEZWZzJyA9ICRSZXBsaWNhRGVmaW5pdGlvbkxpc3Q7CiAgICAgICAgICAgICdQcmVmZXJlbmNlcycgPSAkUHJlZmVyZW5jZXM7CiAgICAgICAgICAgICdMaXN0ZW5lckRlZicgPSAkTGlzdGVuZXJEZWZpbml0aW9uOwogICAgICAgIH0KCiAgICAgICAgUmVtb3ZlLUl0ZW0gLVBhdGggIlxcJFByaW1hcnlOb2RlXFNoYXJlZFdvcmtEaXJcKiIgLUZvcmNlCgogICAgICAgICRDbGlYbWxGaWxlID0gW0lPLlBhdGhdOjpHZXRUZW1wRmlsZU5hbWUoKQoKICAgICAgICBFeHBvcnQtQ2xpWG1sIC1QYXRoICRDbGlYbWxGaWxlIC1JbnB1dE9iamVjdCAkUGFyYW1ldGVycyAtRGVwdGggMTAKCiAgICAgICAgSW5pdGlhbGl6ZS1BT0FHUHJpbWFyeVJlcGxpY2EgYAogICAgICAgICAgICAtQ2xpWG1sRmlsZSAkQ2xpWG1sRmlsZSBgCiAgICAgICAgICAgIC1Eb21haW5OYW1lICREb21haW5OYW1lIGAKICAgICAgICAgICAgLVVzZXJOYW1lICRVc2VyTmFtZSBgCiAgICAgICAgICAgIC1Vc2VyUGFzc3dvcmQgJFVzZXJQYXNzd29yZAogICAgfQogICAgZWxzZSB7CiAgICAgICAgJENyZWRzID0gTmV3LUNyZWRlbnRpYWwgLVVzZXJOYW1lICIkRG9tYWluTmFtZVwkVXNlck5hbWUiIC1QYXNzd29yZCAiJFVzZXJQYXNzd29yZCIKCiAgICAgICAgJEZ1bmN0aW9uc0ZpbGUgPSBFeHBvcnQtRnVuY3Rpb24gLUFsbAoKICAgICAgICBTdGFydC1Qb3dlclNoZWxsUHJvY2VzcyBAIgp0cmFwIHsKICAgIGAkXwogICAgZXhpdCAxCn0KCkltcG9ydC1Nb2R1bGUgQ29yZUZ1bmN0aW9ucwoKV3JpdGUtTG9nICJJbXBvcnRpbmcgZnVuY3Rpb25zIGZyb20gJyRGdW5jdGlvbnNGaWxlJyAuLi4iCi4gIiRGdW5jdGlvbnNGaWxlIgoKV3JpdGUtTG9nICJJbXBvcnRpbmcgQ2xpWG1sIHBhcmFtZXRlcnMgZmlsZSAuLi4iCmAkUGFyYW1ldGVycyA9IEltcG9ydC1DbGlYbWwgLVBhdGggJENsaVhtbEZpbGUKCldyaXRlLUxvZyAiU3RhcnRpbmcgJ05ldy1BbHdheXNPbkF2YWlsYWJpbGl0eUdyb3VwJyAuLi4iCk5ldy1BbHdheXNPbkF2YWlsYWJpbGl0eUdyb3VwIGBgCiAgICAtV29ya0RpciBgJFBhcmFtZXRlcnNbJ1dvcmtEaXInXSBgYAogICAgLU5hbWUgYCRQYXJhbWV0ZXJzWydOYW1lJ10gYGAKICAgIC1EYXRhYmFzZU5hbWVzIGAkUGFyYW1ldGVyc1snRGF0YWJhc2VOYW1lcyddIGBgCiAgICAtUmVwbGljYURlZnMgYCRQYXJhbWV0ZXJzWydSZXBsaWNhRGVmcyddIGBgCiAgICAtUHJlZmVyZW5jZXMgYCRQYXJhbWV0ZXJzWydQcmVmZXJlbmNlcyddIGBgCiAgICAtTGlzdGVuZXJEZWYgYCRQYXJhbWV0ZXJzWydMaXN0ZW5lckRlZiddCiJAIC1DcmVkZW50aWFsICRDcmVkcyAtTm9CYXNlNjQKCiAgICB9Cn0KCgoKZnVuY3Rpb24gSW5pdGlhbGl6ZS1BT0FHU2Vjb25kYXJ5UmVwbGljYSB7CiAgICBwYXJhbSAoCiAgICAgICAgIyAoUkVRVUlSRUQpIE5vZGVzIHRoYXQgd2lsbCBiZSBjb25maWd1cmVkIGFzIHJlcGxpY2EgcGFydG5lcnMuCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXQogICAgICAgIFtTdHJpbmdbXV0gJE5vZGVMaXN0LAoKICAgICAgICAjIChSRVFVSVJFRCkgTm9kZSBuYW1lIHRoYXQgd2lsbCBiZSBwcmltYXJ5IGZvciBzZWxlY3RlZCBBdmFpbGFiaWxpdHkgR3JvdXAKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldCiAgICAgICAgW1N0cmluZ10gJFByaW1hcnlOb2RlLAoKICAgICAgICBbU3RyaW5nXSAkU2hhcmVkV29ya0RpciA9ICdTaGFyZWRXb3JrRGlyJywKCiAgICAgICAgW1N0cmluZ10gJERvbWFpbk5hbWUsCiAgICAgICAgW1N0cmluZ10gJFVzZXJOYW1lLAogICAgICAgIFtTdHJpbmddICRVc2VyUGFzc3dvcmQKICAgICkgCgogICAgaWYgKCRQcmltYXJ5Tm9kZS5Ub0xvd2VyKCkgLWVxICgkRW52OkNvbXB1dGVyTmFtZSkuVG9Mb3dlcigpKSB7CiAgICAgICAgV3JpdGUtTG9nICJUaGlzIGZ1bmN0aW9uIHdvcmtzIG9uIGFueSBTZWNvbmRhcnlOb2RlIG9ubHkuIgogICAgICAgIFdyaXRlLUxvZyAiRXhpdGluZy4iCiAgICAgICAgcmV0dXJuCiAgICB9CgogICAgJENyZWRzID0gTmV3LUNyZWRlbnRpYWwgLVVzZXJOYW1lICIkRG9tYWluTmFtZVwkVXNlck5hbWUiIC1QYXNzd29yZCAiJFVzZXJQYXNzd29yZCIKCiAgICAkRnVuY3Rpb25zRmlsZSA9IEV4cG9ydC1GdW5jdGlvbiAtQWxsCgogICAgU3RhcnQtUG93ZXJTaGVsbFByb2Nlc3MgQCIKdHJhcCB7CiAgICAkXwogICAgZXhpdCAxCn0KCkltcG9ydC1Nb2R1bGUgQ29yZUZ1bmN0aW9ucwoKV3JpdGUtTG9nICJJbXBvcnRpbmcgZnVuY3Rpb25zIGZyb20gJyRGdW5jdGlvbnNGaWxlJyAuLi4iCi4gIiRGdW5jdGlvbnNGaWxlIgoKV3JpdGUtTG9nICJTdGFydGluZyAnTmV3LUFsd2F5c09uQXZhaWxhYmlsaXR5R3JvdXBSZXBsaWNhJyAuLi4iCk5ldy1BbHdheXNPbkF2YWlsYWJpbGl0eUdyb3VwUmVwbGljYSAtV29ya0RpciAiXFwkUHJpbWFyeU5vZGVcJFNoYXJlZFdvcmtEaXIiCiJAIC1DcmVkZW50aWFsICRDcmVkcyAtTm9CYXNlNjQKfQoKCgpmdW5jdGlvbiBEaXNhYmxlLUZpcmV3YWxsIHsKICAgIG5ldHNoIGFkdmZpcmV3YWxsIHNldCBhbGxwcm9maWxlcyBzdGF0ZSBvZmYKfQoKCgpmdW5jdGlvbiBFbmFibGUtRmlyZXdhbGwgewogICAgbmV0c2ggYWR2ZmlyZXdhbGwgc2V0IGFsbHByb2ZpbGVzIHN0YXRlIG9uCn0KCgo=",
    "CmZ1bmN0aW9uIE5ldy1TcWxTZXJ2ZXJTeXN0ZW1BY2NvdW50IHsKICAgIHBhcmFtICgKICAgICAgICAjIChSRVFVSVJFRCkgRG9tYWluIE5hbWUKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldCiAgICAgICAgW1N0cmluZ10gJERvbWFpbk5hbWUsCgogICAgICAgICMgKFJFUVVJUkVEKSBVc2VyIG5hbWUgd2hvIGhhcyBwZXJtaXNzaW9ucyB0byBjcmVhdGUgYW5kIG1vZGlmeSB1c2VyUGFzc3dvcmQKICAgICAgICAjIFVzdWFsbHkgdGhpcyBpcyB0aGUgZG9tYWluIGFkbWluaXN0cmF0b3IgJyRkb21haW5OYW1lXEFkbWluaXN0cmF0b3InIGFjY291bnQKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldCiAgICAgICAgW1N0cmluZ10gJFVzZXJOYW1lLAoKICAgICAgICAjIChSRVFVSVJFRCkgUGFzc3dvcmQgZm9yIHRoYXQgdXNlcgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0KICAgICAgICBbU3RyaW5nXSAkVXNlclBhc3N3b3JkLAoKICAgICAgICAjIChSRVFVSVJFRCkgVXNlciBuYW1lIGZvciBhIG5ldyBhY2NvdW50IHRoYXQgd2lsbCBiZSB1c2VkIHRvIHJ1biBTUUwgU2VydmVyCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXQogICAgICAgIFtTdHJpbmddICRTUUxTZXJ2aWNlVXNlck5hbWUsCgogICAgICAgICMgKFJFUVVJUkVEKSBQYXNzd29yZCBmb3IgdGhhdCB1c2VyCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXQogICAgICAgIFtTdHJpbmddICRTUUxTZXJ2aWNlVXNlclBhc3N3b3JkLAoKICAgICAgICBbU3RyaW5nXSAkUHJpbWFyeU5vZGUgPSAnICcKICAgICkKCiAgICBpZiAoJFByaW1hcnlOb2RlLlRvTG93ZXIoKSAtbmUgKCRFbnY6Q29tcHV0ZXJOYW1lKS5Ub0xvd2VyKCkpIHsKICAgICAgICBXcml0ZS1Mb2cgIlRIaXMgZnVuY3Rpb24gcnVucyBvbiBBT0FHIHByaW1hcnkgbm9kZSBvbmx5LiIKICAgICAgICBXcml0ZS1Mb2cgIkV4aXRpbmcuIgogICAgICAgIHJldHVybgogICAgfQoKICAgIGlmICgoR2V0LU1vZHVsZSAtTmFtZSAnQWN0aXZlRGlyZWN0b3J5JykgLWVxICRudWxsKSB7CiAgICAgICAgQWRkLVdpbmRvd3NGZWF0dXJlIFJTQVQtQUQtUG93ZXJTaGVsbAogICAgfQoKICAgIGlmICgoR2V0LU1vZHVsZSAtTmFtZSAnQWN0aXZlRGlyZWN0b3J5JykgLWVxICRudWxsKSB7CiAgICAgICAgdGhyb3cgIk1vZHVsZSAnQWN0aXZlRGlyZWN0b3J5JyBpcyBub3QgYXZhaWxhYmxlLiIKICAgIH0KCiAgICAkQ3JlZHMgPSBOZXctQ3JlZGVudGlhbCAtVXNlck5hbWUgIiREb21haW5OYW1lXCRVc2VyTmFtZSIgLVBhc3N3b3JkICIkVXNlclBhc3N3b3JkIgoKICAgICRudWxsID0gTmV3LUFEVXNlciBgCiAgICAgICAgLU5hbWUgJFNRTFNlcnZpY2VVc2VyTmFtZSBgCiAgICAgICAgLUFjY291bnRQYXNzd29yZCAkKENvbnZlcnRUby1TZWN1cmVTdHJpbmcgLVN0cmluZyAkU1FMU2VydmljZVVzZXJQYXNzd29yZCAtQXNQbGFpblRleHQgLUZvcmNlKSBgCiAgICAgICAgLUNyZWRlbnRpYWwgJENyZWRzCn0K"
  ]
}